<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Sandbox Solutions: A Comparative Analysis</title>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Nunito:wght@400;600;700&family=Patrick+Hand&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="static/styles.css">
    <style>
        :root {
            --bg-cream: #FDF8F3;
            --bg-paper: #FFFEF9;
            --accent-coral: #FF6B6B;
            --accent-teal: #4ECDC4;
            --accent-sunflower: #FFE66D;
            --accent-lavender: #C9B1FF;
            --accent-sky: #A8E6CF;
            --accent-red: #E74C3C;
            --accent-green: #27AE60;
            --accent-orange: #E67E22;
            --text-dark: #2D3436;
            --text-muted: #636E72;
            --pencil: #2B2B2B;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--bg-cream);
            color: var(--text-dark);
            line-height: 1.7;
            min-height: 100vh;
        }

        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }

        header { text-align: center; margin-bottom: 50px; }

        h1 {
            font-family: 'Caveat', cursive;
            font-size: 3.5rem;
            color: var(--pencil);
            position: relative;
            display: inline-block;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--accent-coral), var(--accent-teal), var(--accent-sunflower));
            border-radius: 3px;
            opacity: 0.6;
        }

        .subtitle { font-family: 'Patrick Hand', cursive; font-size: 1.5rem; color: var(--text-muted); margin-top: 20px; }

        .back-link {
            display: inline-block;
            color: var(--accent-teal);
            font-family: 'Patrick Hand', cursive;
            font-size: 1.1rem;
            text-decoration: none;
            margin-bottom: 30px;
            transition: color 0.3s;
        }
        .back-link:hover { color: var(--accent-coral); }

        .page-meta {
            font-family: 'Patrick Hand', cursive;
            font-size: 0.95rem;
            color: var(--text-muted);
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
        }
        .page-meta i { margin-right: 5px; }

        .card {
            background: var(--bg-paper);
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            padding: 40px;
            margin-bottom: 28px;
            box-shadow: 3px 4px 0 rgba(0,0,0,0.1), 6px 8px 0 rgba(0,0,0,0.05);
            position: relative;
            transition: transform 0.3s ease;
            border: 2px solid var(--pencil);
        }

        .card:hover { transform: translate(-2px, -2px); }

        h2 { 
            font-family: 'Caveat', cursive; 
            font-size: 2.2rem; 
            color: var(--pencil); 
            margin-bottom: 20px;
            padding-left: 50px;
            position: relative;
            min-height: 45px;
            display: flex;
            align-items: center;
        }

        h2 .fa-icon {
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 42px;
            height: 42px;
            background: var(--bg-paper);
            border: 2px solid var(--pencil);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        h3 { font-family: 'Patrick Hand', cursive; font-size: 1.5rem; color: var(--text-dark); margin: 30px 0 15px; }
        h4 { font-family: 'Patrick Hand', cursive; font-size: 1.2rem; color: var(--text-muted); margin: 20px 0 10px; }
        p { margin-bottom: 15px; font-size: 1.08rem; }

        .highlight { background: linear-gradient(180deg, transparent 65%, rgba(255, 230, 109, 0.5) 65%); }
        .highlight-teal { background: linear-gradient(180deg, transparent 65%, rgba(78, 205, 196, 0.35) 65%); }
        .highlight-coral { background: linear-gradient(180deg, transparent 65%, rgba(255, 107, 107, 0.35) 65%); }

        /* Isolation Level Visualization */
        .isolation-hierarchy {
            background: linear-gradient(135deg, #FFF8E7, #FFECB3);
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            padding: 30px;
            margin: 25px 0;
            border: 3px dashed var(--accent-orange);
        }

        .isolation-title {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.3rem;
            color: var(--accent-orange);
            text-align: center;
            margin-bottom: 25px;
        }

        .isolation-levels {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .isolation-level {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            border: 3px solid var(--pencil);
            position: relative;
            transition: transform 0.3s;
        }

        .isolation-level:hover { transform: translateX(5px); }

        .isolation-icon {
            width: 50px;
            height: 50px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            flex-shrink: 0;
            border: 2px solid var(--pencil);
        }

        .isolation-icon.vm { background: var(--accent-green); color: white; }
        .isolation-icon.kernel { background: #2196F3; color: white; }
        .isolation-icon.container { background: var(--accent-orange); color: white; }
        .isolation-icon.process { background: var(--accent-coral); color: white; }
        .isolation-icon.language { background: var(--accent-lavender); color: white; }

        .isolation-info { flex: 1; }
        .isolation-name { font-family: 'Patrick Hand', cursive; font-size: 1.2rem; font-weight: 700; }
        .isolation-desc { font-size: 0.95rem; color: var(--text-muted); }

        .isolation-strength {
            font-family: 'Patrick Hand', cursive;
            font-size: 0.9rem;
            padding: 4px 12px;
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            background: rgba(255,255,255,0.8);
            border: 2px solid var(--pencil);
        }

        .isolation-level.vm { background: linear-gradient(135deg, #E8F8F5, #D1F2EB); margin-left: 0; }
        .isolation-level.kernel { background: linear-gradient(135deg, #E3F2FD, #BBDEFB); margin-left: 20px; }
        .isolation-level.container { background: linear-gradient(135deg, #FFF3E0, #FFE0B2); margin-left: 40px; }
        .isolation-level.process { background: linear-gradient(135deg, #FCE4EC, #F8BBD9); margin-left: 60px; }
        .isolation-level.language { background: linear-gradient(135deg, #E8EAF6, #C5CAE9); margin-left: 80px; }

        /* Architecture Diagrams */
        .arch-diagram {
            background: linear-gradient(135deg, #F8F9FA, #F0F0F0);
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            padding: 25px;
            margin: 25px 0;
            display: flex;
            flex-direction: column;
            gap: 8px;
            border: 3px dashed var(--pencil);
        }

        .arch-layer {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 18px;
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            font-family: 'Patrick Hand', cursive;
            font-size: 1.05rem;
            border: 3px solid var(--pencil);
            transition: transform 0.3s;
        }

        .arch-layer:hover { transform: scale(1.02) rotate(-1deg); }

        .arch-layer.host {
            background: linear-gradient(135deg, #ECEFF1, #CFD8DC);
        }

        .arch-layer.hypervisor {
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
        }

        .arch-layer.kernel {
            background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
        }

        .arch-layer.container {
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
        }

        .arch-layer.app {
            background: linear-gradient(135deg, #FCE4EC, #F8BBD9);
        }

        .arch-layer.sandbox {
            background: linear-gradient(135deg, #FFF9C4, #FFF59D);
        }

        .arch-arrow {
            text-align: center;
            color: var(--text-muted);
            font-size: 1.2rem;
            font-family: 'Caveat', cursive;
        }

        .layer-icon {
            width: 36px;
            height: 36px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            flex-shrink: 0;
            border: 2px solid var(--pencil);
            font-size: 1rem;
        }

        .layer-label { flex: 1; }
        .layer-detail { font-size: 0.85rem; color: var(--text-muted); }

        /* Comparison Table */
        .comparison-table { 
            width: 100%; 
            border-collapse: separate; 
            border-spacing: 0; 
            margin: 22px 0; 
            font-size: 0.95rem; 
            border: 2px solid var(--pencil); 
            border-radius: 15px; 
            overflow: hidden; 
        }
        .comparison-table th, .comparison-table td { 
            padding: 14px 18px; 
            text-align: left; 
            border-bottom: 2px dashed rgba(0,0,0,0.15); 
        }
        .comparison-table th { 
            font-family: 'Patrick Hand', cursive; 
            font-size: 1.15rem; 
            background: #F5F0E8; 
        }

        .solution-box {
            background: linear-gradient(135deg, #E8F8F5, #D1F2EB);
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            padding: 28px;
            margin: 22px 0;
            border: 3px solid var(--accent-teal);
        }

        .solution-box-title {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.4rem;
            color: var(--accent-teal);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .recommendation-box {
            background: linear-gradient(135deg, #E8F8F5, #D1F2EB);
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            padding: 30px;
            margin: 25px 0;
            border: 3px solid var(--accent-green);
        }

        .recommendation-title {
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            color: var(--accent-green);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quote-box {
            background: linear-gradient(135deg, #FFF9E6, #FFF5D6);
            border-left: 5px solid var(--accent-sunflower);
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 16px 16px 0;
            font-size: 1.12rem;
            font-style: italic;
            border: 2px dashed var(--accent-sunflower);
        }

        .feature-list {
            list-style: none;
            padding: 0;
            margin: 18px 0;
        }

        .feature-list li {
            padding: 10px 0 10px 35px;
            position: relative;
            border-bottom: 2px dashed rgba(0,0,0,0.1);
        }

        .feature-list li::before {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free', sans-serif;
            font-weight: 900;
            position: absolute;
            left: 0;
            font-size: 1.1rem;
            color: var(--accent-teal);
        }

        /* Security Strength Indicator */
        .strength-meter {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 20px 0;
            padding: 18px;
            background: linear-gradient(135deg, #F8F9FA, #FFFFFF);
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            border: 3px dashed var(--pencil);
        }

        .strength-label {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.1rem;
            color: var(--text-muted);
            min-width: 100px;
        }

        .strength-bar {
            flex: 1;
            height: 24px;
            background: #E0E0E0;
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            overflow: hidden;
            border: 2px solid var(--pencil);
        }

        .strength-fill {
            height: 100%;
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            transition: width 0.5s ease;
        }

        .strength-fill.high { background: linear-gradient(90deg, var(--accent-green), #2E7D32); width: 90%; }
        .strength-fill.medium-high { background: linear-gradient(90deg, var(--accent-teal), #00897B); width: 75%; }
        .strength-fill.medium { background: linear-gradient(90deg, var(--accent-orange), #F57C00); width: 60%; }
        .strength-fill.low { background: linear-gradient(90deg, var(--accent-coral), #D32F2F); width: 40%; }
        .strength-fill.very-low { background: linear-gradient(90deg, #9E9E9E, #616161); width: 25%; }

        .strength-value {
            font-family: 'Patrick Hand', cursive;
            font-size: 1rem;
            min-width: 80px;
            text-align: right;
        }

        /* Solution Header */
        .solution-header {
            display: flex;
            align-items: center;
            gap: 18px;
            margin-bottom: 20px;
        }

        .solution-icon {
            width: 60px;
            height: 60px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            flex-shrink: 0;
            border: 3px solid var(--pencil);
            box-shadow: 3px 4px 0 rgba(0,0,0,0.15);
        }

        .solution-title {
            font-family: 'Patrick Hand', cursive;
            font-size: 1.5rem;
            font-weight: 700;
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 4px 14px;
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 6px;
            border: 2px solid;
        }
        .badge-red { background: #FFE8E8; color: #D63031; border-color: #D63031; }
        .badge-green { background: #E8FAF4; color: #00B894; border-color: #00B894; }

        /* Visual Metaphor Box */
        .metaphor-box {
            background: var(--bg-paper);
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            padding: 25px;
            margin: 20px 0;
            border: 3px solid var(--pencil);
            text-align: center;
            transition: transform 0.3s;
        }

        .metaphor-box:hover { transform: scale(1.02) rotate(1deg); }
        .metaphor-icon { font-size: 3rem; margin-bottom: 12px; }
        .metaphor-label { font-family: 'Patrick Hand', cursive; font-size: 1.3rem; font-weight: 700; }
        .metaphor-desc { font-size: 0.9rem; color: var(--text-muted); }

        a { color: var(--accent-teal); text-decoration: none; }
        a:hover { text-decoration: underline; }

        footer {
            text-align: center;
            padding: 30px;
            color: var(--text-muted);
            font-family: 'Patrick Hand', cursive;
        }

        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.7s ease;
        }

        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Enhanced Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 20px 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
            
            .card {
                padding: 20px 15px;
                margin-bottom: 20px;
                border-radius: 20px 10px 20px 10px / 10px 20px 10px 20px;
            }
            
            h2 {
                font-size: 1.3rem;
                padding-left: 40px;
            }
            
            h2 .fa-icon {
                width: 32px;
                height: 32px;
                font-size: 1rem;
            }
            
            .isolation-hierarchy {
                padding: 20px;
            }
            
            .isolation-level {
                margin-left: 0 !important;
                width: 100%;
            }
            
            .isolation-title {
                font-size: 1.1rem;
            }
            
            .solution-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .solution-card {
                padding: 18px;
            }
            
            .comparison-table {
                font-size: 0.75rem;
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 8px 10px;
            }
            
            .recommendation-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .recommendation-card {
                padding: 18px;
            }
            
            .code-content {
                padding: 12px 15px;
                font-size: 0.8rem;
                overflow-x: auto;
            }
            
            .quote-box {
                padding: 18px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.6rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .card {
                padding: 15px 12px;
            }
            
            h2 {
                font-size: 1.1rem;
                padding-left: 35px;
            }
            
            h2 .fa-icon {
                width: 28px;
                height: 28px;
                font-size: 0.9rem;
            }
            
            .comparison-table {
                font-size: 0.7rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 6px 8px;
            }
            
            .page-meta {
                flex-direction: column;
                gap: 8px;
            }
            
            .isolation-title {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <button class="toc-toggle" onclick="toggleSidebar()"><i class="fa-solid fa-bars"></i></button>

    <div class="page-wrapper">
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">Sandbox Solutions</div>
                <div class="sidebar-subtitle">Navigation Guide</div>
            </div>

            <div class="toc-section">
                <div class="toc-title"><i class="fa-solid fa-shield-halved"></i> Overview</div>
                <ul class="toc-list">
                    <li><a href="#need-sandboxing" onclick="scrollToSection('need-sandboxing')">The Need for Sandboxing</a></li>
                    <li><a href="#isolation-hierarchy" onclick="scrollToSection('isolation-hierarchy')">Isolation Hierarchy</a></li>
                </ul>
            </div>

            <div class="toc-section">
                <div class="toc-title"><i class="fa-solid fa-server"></i> Solutions</div>
                <ul class="toc-list">
                    <li><a href="#firecracker" onclick="scrollToSection('firecracker')">Firecracker (MicroVM)</a></li>
                    <li><a href="#gvisor" onclick="scrollToSection('gvisor')">gVisor (User-Space)</a></li>
                    <li><a href="#nsjail" onclick="scrollToSection('nsjail')">nsjail (Process)</a></li>
                    <li><a href="#docker" onclick="scrollToSection('docker')">Docker with seccomp</a></li>
                    <li><a href="#restrictedpython" onclick="scrollToSection('restrictedpython')">RestrictedPython</a></li>
                </ul>
            </div>

            <div class="toc-section">
                <div class="toc-title"><i class="fa-solid fa-list-check"></i> Analysis</div>
                <ul class="toc-list">
                    <li><a href="#best-practices" onclick="scrollToSection('best-practices')">Security Best Practices</a></li>
                    <li><a href="#comparison" onclick="scrollToSection('comparison')">Comparative Analysis</a></li>
                    <li><a href="#recommendation" onclick="scrollToSection('recommendation')">Recommendation</a></li>
                    <li><a href="#conclusion" onclick="scrollToSection('conclusion')">Conclusion</a></li>
                </ul>
            </div>

            <div class="toc-section" style="margin-top: 30px; padding-top: 20px; border-top: 2px dashed rgba(0,0,0,0.1);">
                <a href="index.html" style="display: flex; align-items: center; gap: 8px; color: var(--accent-teal); text-decoration: none; font-weight: 600;">
                    <i class="fa-solid fa-arrow-left"></i> Back to Home
                </a>
            </div>
        </nav>

        <main class="main-content">
            <div class="container">
                <a href="index.html" class="back-link"><i class="fa-solid fa-arrow-left"></i> Back to Mind & Machine</a>
            
                <div class="page-meta">
                    <span><i class="fa-solid fa-user"></i> Jiuhe Wang</span>
                    <span><i class="fa-regular fa-calendar"></i> Feb 21, 2025</span>
                </div>

                <header>
                    <h1>AI Agent Sandbox Solutions</h1>
                    <p class="subtitle">A Comparative Analysis for Secure Agentic AI Workflows</p>
                </header>

                <!-- Introduction -->
                <section class="card reveal" id="need-sandboxing">
            <h2><i class="fa-solid fa-shield-halved fa-icon"></i>The Need for Sandboxing</h2>
            
            <p>Agentic AI systems, capable of autonomous code execution, present <span class="highlight-coral">unique security challenges</span>. Their ability to generate and execute code on the fly increases the risk of system compromise, data exfiltration, and privilege escalation.</p>
            
            <p>Sandboxing is thus a <span class="highlight">critical control</span>, providing isolation between the agent and the host environment, limiting the blast radius of potential exploits, and enabling safe experimentation and deployment of AI-driven automation.</p>
            
            <div class="quote-box">
                <strong>Key Principle:</strong> The stronger the isolation, the safer your agentic workflows. Choose your sandbox based on your threat model, not just convenience.
            </div>
        </section>

        <!-- Isolation Hierarchy -->
        <section class="card reveal" id="isolation-hierarchy">
            <h2><i class="fa-solid fa-layer-group fa-icon"></i>Isolation Hierarchy</h2>
            
            <p>Understanding the <span class="highlight-teal">isolation boundaries</span> is crucial for selecting the right sandbox solution. Each level provides different security guarantees:</p>

            <div class="isolation-hierarchy">
                <div class="isolation-title"><i class="fa-solid fa-chess-rook"></i> From Strongest to Weakest Isolation</div>
                
                <div class="isolation-levels">
                    <div class="isolation-level vm">
                        <div class="isolation-icon vm"><i class="fa-solid fa-server"></i></div>
                        <div class="isolation-info">
                            <div class="isolation-name">VM-Level (Hardware Virtualization)</div>
                            <div class="isolation-desc">Complete hardware isolation ‚Ä¢ Separate kernel ‚Ä¢ Strongest boundary</div>
                        </div>
                        <span class="isolation-strength">üîí Maximum</span>
                    </div>

                    <div class="isolation-level kernel">
                        <div class="isolation-icon kernel"><i class="fa-solid fa-glasses"></i></div>
                        <div class="isolation-info">
                            <div class="isolation-name">User-Space Kernel (gVisor)</div>
                            <div class="isolation-desc">Syscall interception ‚Ä¢ User-space implementation ‚Ä¢ High compatibility</div>
                        </div>
                        <span class="isolation-strength">üõ°Ô∏è High</span>
                    </div>

                    <div class="isolation-level container">
                        <div class="isolation-icon container"><i class="fa-solid fa-box-open"></i></div>
                        <div class="isolation-info">
                            <div class="isolation-name">Container + Namespace (nsjail, Docker)</div>
                            <div class="isolation-desc">OS-level virtualization ‚Ä¢ Shared kernel ‚Ä¢ Process isolation</div>
                        </div>
                        <span class="isolation-strength">üõ°Ô∏è Medium</span>
                    </div>

                    <div class="isolation-level process">
                        <div class="isolation-icon process"><i class="fa-solid fa-gears"></i></div>
                        <div class="isolation-info">
                            <div class="isolation-name">Process-Level (seccomp, cgroups)</div>
                            <div class="isolation-desc">Syscall filtering ‚Ä¢ Resource limits ‚Ä¢ Same user space</div>
                        </div>
                        <span class="isolation-strength">üîì Low</span>
                    </div>

                    <div class="isolation-level language">
                        <div class="isolation-icon language"><i class="fa-brands fa-python"></i></div>
                        <div class="isolation-info">
                            <div class="isolation-name">Language-Level (RestrictedPython)</div>
                            <div class="isolation-desc">Interpreter restrictions ‚Ä¢ Python-only ‚Ä¢ Easily bypassed</div>
                        </div>
                        <span class="isolation-strength">‚ö†Ô∏è Minimal</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Solution Cards with Diagrams -->
        <section class="card reveal" id="firecracker">
            <h2><i class="fa-solid fa-fire fa-icon"></i>Firecracker (MicroVM)</h2>
            
            <div class="solution-header">
                <div class="solution-icon" style="background: var(--accent-green); color: white;"><i class="fa-solid fa-fire"></i></div>
                <div>
                    <div class="solution-title">VM-Level Isolation</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">AWS MicroVM Monitor ‚Ä¢ &lt;125ms startup ‚Ä¢ Thousands per host</div>
                </div>
            </div>

            <div class="arch-diagram">
                <div class="arch-layer host">
                    <div class="layer-icon"><i class="fa-solid fa-server"></i></div>
                    <div class="layer-label">Host Hardware</div>
                    <div class="layer-detail">Physical Machine</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer hypervisor">
                    <div class="layer-icon" style="color: var(--accent-green);"><i class="fa-solid fa-shield-halved"></i></div>
                    <div class="layer-label">Firecracker VMM</div>
                    <div class="layer-detail">Minimal device model ‚Ä¢ KVM</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer kernel">
                    <div class="layer-icon" style="color: #2196F3;"><i class="fa-brands fa-linux"></i></div>
                    <div class="layer-label">Guest Kernel</div>
                    <div class="layer-detail">Isolated OS instance</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer app">
                    <div class="layer-icon" style="color: var(--accent-coral);"><i class="fa-solid fa-robot"></i></div>
                    <div class="layer-label">AI Agent Code</div>
                    <div class="layer-detail">Sandboxed execution</div>
                </div>
            </div>

            <p>An open-source microVM monitor from AWS, designed for secure, lightweight workload isolation. Provides VM-level isolation with minimal device models, reducing attack surface compared to traditional hypervisors. Enables rapid microVM startup and supports running thousands of microVMs per host.</p>

            <div class="strength-meter">
                <span class="strength-label">Isolation:</span>
                <div class="strength-bar"><div class="strength-fill high"></div></div>
                <span class="strength-value">Maximum</span>
            </div>

            <p><strong>Best For:</strong> Multi-tenant, high-security, production-grade environments where strong isolation and scalability are essential.</p>
        </section>

        <section class="card reveal" id="gvisor">
            <h2><i class="fa-solid fa-glasses fa-icon"></i>gVisor (User-Space Kernel)</h2>
            
            <div class="solution-header">
                <div class="solution-icon" style="background: #2196F3; color: white;"><i class="fa-solid fa-glasses"></i></div>
                <div>
                    <div class="solution-title">Application Kernel Isolation</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">Sentry component ‚Ä¢ Syscall interception ‚Ä¢ Broad compatibility</div>
                </div>
            </div>

            <div class="arch-diagram">
                <div class="arch-layer host">
                    <div class="layer-icon"><i class="fa-solid fa-server"></i></div>
                    <div class="layer-label">Host Kernel (Linux)</div>
                    <div class="layer-detail">Underlying OS</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer sandbox">
                    <div class="layer-icon" style="color: var(--accent-sunflower);"><i class="fa-solid fa-filter"></i></div>
                    <div class="layer-label">Sentry (User-Space Kernel)</div>
                    <div class="layer-detail">Intercepts & implements syscalls</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer container">
                    <div class="layer-icon" style="color: var(--accent-orange);"><i class="fa-solid fa-box"></i></div>
                    <div class="layer-label">Container</div>
                    <div class="layer-detail">Namespace isolation</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer app">
                    <div class="layer-icon" style="color: var(--accent-coral);"><i class="fa-solid fa-robot"></i></div>
                    <div class="layer-label">AI Agent Code</div>
                    <div class="layer-detail">Sandboxed execution</div>
                </div>
            </div>

            <p>A user-space kernel that intercepts and implements the Linux system call interface, sitting between the sandboxed application and the host OS. Its core component, the Sentry, mediates all system calls, providing a process model while minimizing the attack surface.</p>

            <div class="strength-meter">
                <span class="strength-label">Isolation:</span>
                <div class="strength-bar"><div class="strength-fill medium-high"></div></div>
                <span class="strength-value">High</span>
            </div>

            <p><strong>Best For:</strong> Application-level sandboxing where compatibility with a wide syscall surface is required, and where VM-level performance is not a strict necessity.</p>
        </section>

        <section class="card reveal" id="nsjail">
            <h2><i class="fa-solid fa-box-open fa-icon"></i>nsjail (Process Isolation)</h2>
            
            <div class="solution-header">
                <div class="solution-icon" style="background: var(--accent-coral); color: white;"><i class="fa-solid fa-box-open"></i></div>
                <div>
                    <div class="solution-title">Linux Namespace Isolation</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">Namespaces ‚Ä¢ cgroups ‚Ä¢ seccomp-bpf ‚Ä¢ Fine-grained syscall filtering</div>
                </div>
            </div>

            <div class="arch-diagram">
                <div class="arch-layer host">
                    <div class="layer-icon"><i class="fa-brands fa-linux"></i></div>
                    <div class="layer-label">Host Kernel</div>
                    <div class="layer-detail">Shared kernel</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer container">
                    <div class="layer-icon" style="color: var(--accent-orange);"><i class="fa-solid fa-layer-group"></i></div>
                    <div class="layer-label">Namespaces (UTS, PID, NET, IPC, MNT)</div>
                    <div class="layer-detail">Process isolation</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer sandbox">
                    <div class="layer-icon" style="color: var(--accent-sunflower);"><i class="fa-solid fa-shield"></i></div>
                    <div class="layer-label">seccomp-bpf + cgroups</div>
                    <div class="layer-detail">Syscall filtering ‚Ä¢ Resource limits</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer app">
                    <div class="layer-icon" style="color: var(--accent-coral);"><i class="fa-solid fa-robot"></i></div>
                    <div class="layer-label">AI Agent Code</div>
                    <div class="layer-detail">Isolated process</div>
                </div>
            </div>

            <p>A Linux process isolation tool leveraging core kernel mechanisms: namespaces, cgroups, and seccomp-bpf for fine-grained syscall filtering. Supports multiple isolation modes and provides robust namespace isolation (UTS, mount, PID, IPC, NET, USER, CGROUPS, TIME). Filesystem constraints include chroot, pivot_root, read-only mounts, and custom /proc and tmpfs.</p>

            <div class="strength-meter">
                <span class="strength-label">Isolation:</span>
                <div class="strength-bar"><div class="strength-fill medium"></div></div>
                <span class="strength-value">Medium</span>
            </div>

            <p><strong>Best For:</strong> Production Linux environments requiring strong syscall filtering and robust process isolation for untrusted code execution.</p>
        </section>

        <section class="card reveal" id="docker">
            <h2><i class="fa-brands fa-docker fa-icon"></i>Docker with seccomp</h2>
            
            <div class="solution-header">
                <div class="solution-icon" style="background: #2196F3; color: white;"><i class="fa-brands fa-docker"></i></div>
                <div>
                    <div class="solution-title">Container-Level Security</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">Default seccomp profile ‚Ä¢ 44+ blocked syscalls ‚Ä¢ High compatibility</div>
                </div>
            </div>

            <div class="arch-diagram">
                <div class="arch-layer host">
                    <div class="layer-icon"><i class="fa-brands fa-linux"></i></div>
                    <div class="layer-label">Host Kernel</div>
                    <div class="layer-detail">Shared kernel</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer container">
                    <div class="layer-icon" style="color: var(--accent-orange);"><i class="fa-brands fa-docker"></i></div>
                    <div class="layer-label">Docker Container</div>
                    <div class="layer-detail">Standard container isolation</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer sandbox">
                    <div class="layer-icon" style="color: var(--accent-sunflower);"><i class="fa-solid fa-filter"></i></div>
                    <div class="layer-label">seccomp Profile (Default)</div>
                    <div class="layer-detail">~44 high-risk syscalls blocked</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer app">
                    <div class="layer-icon" style="color: var(--accent-coral);"><i class="fa-solid fa-robot"></i></div>
                    <div class="layer-label">AI Agent Code</div>
                    <div class="layer-detail">Containerized execution</div>
                </div>
            </div>

            <p>Docker containers use seccomp (secure computing mode) profiles to restrict the syscalls available to containerized processes. The default seccomp profile blocks about 44 high-risk syscalls out of 300+, following a compatibility-biased allowlist. Custom profiles can be specified for finer control, but the default mode prioritizes broad application compatibility over maximal security.</p>

            <div class="strength-meter">
                <span class="strength-label">Isolation:</span>
                <div class="strength-bar"><div class="strength-fill low"></div></div>
                <span class="strength-value">Low-Medium</span>
            </div>

            <p><strong>Best For:</strong> Easier setup and deployment where fine-grained control is less critical, and where the threat model is less stringent.</p>
        </section>

        <section class="card reveal" id="restrictedpython">
            <h2><i class="fa-brands fa-python fa-icon"></i>RestrictedPython</h2>
            
            <div class="solution-header">
                <div class="solution-icon" style="background: #3776AB; color: white;"><i class="fa-brands fa-python"></i></div>
                <div>
                    <div class="solution-title">Language-Level Restriction</div>
                    <div style="font-size: 0.9rem; color: var(--text-muted);">Python subset ‚Ä¢ Policy controls ‚Ä¢ Interpreter-level ‚Ä¢ Easily bypassed</div>
                </div>
            </div>

            <div class="arch-diagram">
                <div class="arch-layer host">
                    <div class="layer-icon"><i class="fa-solid fa-server"></i></div>
                    <div class="layer-label">Host OS</div>
                    <div class="layer-detail">Full system access</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer app">
                    <div class="layer-icon" style="color: #3776AB;"><i class="fa-brands fa-python"></i></div>
                    <div class="layer-label">CPython Interpreter</div>
                    <div class="layer-detail">Standard Python runtime</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer sandbox">
                    <div class="layer-icon" style="color: var(--accent-sunflower);"><i class="fa-solid fa-code"></i></div>
                    <div class="layer-label">RestrictedPython Policy</div>
                    <div class="layer-detail">Restricted builtins & modules</div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer app">
                    <div class="layer-icon" style="color: var(--accent-coral);"><i class="fa-solid fa-robot"></i></div>
                    <div class="layer-label">AI Agent Code</div>
                    <div class="layer-detail">Limited Python subset</div>
                </div>
            </div>

            <p>RestrictedPython is a tool for defining a trusted subset of Python, suitable for executing untrusted code within controlled environments. It restricts access to Python builtins, attributes, and modules via policy controls. However, it is not a full sandbox system and does not defend against all possible escapes‚Äîrecent vulnerabilities (e.g., CVE-2025-22153) have demonstrated that sandbox bypass is possible.</p>

            <div class="strength-meter">
                <span class="strength-label">Isolation:</span>
                <div class="strength-bar"><div class="strength-fill very-low"></div></div>
                <span class="strength-value">Minimal</span>
            </div>

            <p><strong>Best For:</strong> Lightweight, Python-specific use cases where performance and simplicity are prioritized over strong security guarantees.</p>
        </section>

        <!-- Best Practices -->
        <section class="card reveal" id="best-practices">
            <h2><i class="fa-solid fa-list-check fa-icon"></i>Security Requirements & Best Practices</h2>
            
            <p>Recent best practices for AI agent sandboxing emphasize the following principles:</p>
            
            <ul class="feature-list">
                <li><strong>Strong isolation by default:</strong> Use microVMs (e.g., Firecracker) for untrusted code. Relax to gVisor or container-based solutions only if justified by the threat model.</li>
                <li><strong>Defense-in-depth:</strong> Layer sandboxing with runtime monitoring, approval gates, and signed artifacts.</li>
                <li><strong>Narrow agent scope:</strong> Limit the capabilities and resource access of AI agents to reduce the impact of compromise.</li>
                <li><strong>Continuous monitoring:</strong> Log all actions and resource usage, with alerting for policy violations or anomalies.</li>
                <li><strong>Rapid adaptation:</strong> Security requirements for AI sandboxes evolve quickly‚Äîsolutions must support quick updates and patching.</li>
            </ul>

            <div class="quote-box">
                <strong>Remember:</strong> Security is not binary‚Äîit's about choosing the right level of isolation for your specific threat model and operational requirements.
            </div>
        </section>

        <!-- Comparative Analysis Table -->
        <section class="card reveal" id="comparison">
            <h2><i class="fa-solid fa-scale-balanced fa-icon"></i>Comparative Analysis</h2>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Solution</th>
                        <th>Isolation Level</th>
                        <th>Syscall Filtering</th>
                        <th>Startup</th>
                        <th>Suitability</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong><i class="fa-solid fa-fire"></i> Firecracker</strong></td>
                        <td>VM (Hardware)</td>
                        <td>Complete isolation</td>
                        <td>&lt;125ms</td>
                        <td><span class="highlight-teal">Production</span></td>
                    </tr>
                    <tr>
                        <td><strong><i class="fa-solid fa-glasses"></i> gVisor</strong></td>
                        <td>User-Space Kernel</td>
                        <td>Intercepted syscalls</td>
                        <td>Moderate</td>
                        <td>High compatibility</td>
                    </tr>
                    <tr>
                        <td><strong><i class="fa-solid fa-box-open"></i> nsjail</strong></td>
                        <td>Process + Namespace</td>
                        <td>Fine-grained (Kafel)</td>
                        <td>Fast</td>
                        <td>Linux native</td>
                    </tr>
                    <tr>
                        <td><strong><i class="fa-brands fa-docker"></i> Docker</strong></td>
                        <td>Container</td>
                        <td>Default (44 blocked)</td>
                        <td>Fast</td>
                        <td>Development</td>
                    </tr>
                    <tr>
                        <td><strong><i class="fa-brands fa-python"></i> RestrictedPython</strong></td>
                        <td>Language</td>
                        <td>Python builtins</td>
                        <td>Fast</td>
                        <td>Low-risk only</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Recommendation -->
        <section class="card reveal" id="recommendation">
            <h2><i class="fa-solid fa-trophy fa-icon"></i>Recommendation</h2>
            
            <div class="recommendation-box">
                <div class="recommendation-title"><i class="fa-solid fa-star"></i> The Best Solution for Agentic AI</div>
                
                <p>For agentic AI systems‚Äîwhere code may be generated and executed autonomously, and the risk of prompt injection, privilege escalation, or sandbox escape is high‚Äîthe industry consensus is to <strong>default to microVM-based solutions like Firecracker</strong> for the strongest isolation.</p>
                
                <p>Firecracker combines <span class="highlight-teal">VM-level security</span> with container-like speed and efficiency, supporting rapid, ephemeral sandbox creation at scale. This approach is particularly effective in multi-tenant and cloud environments.</p>
                
                <div class="solution-box">
                    <div class="solution-box-title"><i class="fa-solid fa-lightbulb"></i> Alternative Options by Use Case</div>
                    <p><i class="fa-solid fa-glasses"></i> <strong>gVisor:</strong> Best when you need broad Linux syscall compatibility without the overhead of full VMs.</p>
                    <p><i class="fa-solid fa-box-open"></i> <strong>nsjail:</strong> Ideal for Linux-native workloads with strong syscall filtering requirements.</p>
                    
                    <p><i class="fa-brands fa-docker"></i> <strong>Docker:</strong> Suitable for development, testing, and lower-risk production scenarios.</p>
                    
                    <p><i class="fa-brands fa-python"></i> <strong>RestrictedPython:</strong> Only for trusted environments where Python execution is controlled and audited.</p>
                </div>
            </div>
        </section>

        <!-- Conclusion -->
        <section class="card reveal" id="conclusion">
            <h2><i class="fa-solid fa-flag-checkered fa-icon"></i>Conclusion</h2>
            
            <p>The landscape of sandboxing for AI agents is rapidly evolving, but the best practice is clear: <span class="highlight">use the strongest isolation feasible</span> for your operational context, defaulting to microVMs like Firecracker for untrusted, autonomous code execution.</p>
            
            <div class="quote-box">
                Supplement sandboxing with defense-in-depth, monitoring, and rapid patching to keep pace with new threats. For most agentic AI deployments, this approach delivers the optimal balance of security, scalability, and operational agility.
            </div>
        </section>

        <footer>
            <p><i class="fa-solid fa-paintbrush"></i> Mind & Machine | <a href="index.html" style="color: var(--accent-teal);">Back to Home</a></p>
        </footer>
            </div>
            </main>
        </div>

    <script>
        const revealElements = document.querySelectorAll('.reveal');
        const revealOnScroll = () => {
            revealElements.forEach(el => {
                const elementTop = el.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                if (elementTop < windowHeight - 80) {
                    el.classList.add('visible');
                }
            });
        };
        window.addEventListener('scroll', revealOnScroll);
        window.addEventListener('load', revealOnScroll);

        // Add hover effects to isolation levels
        document.querySelectorAll('.isolation-level').forEach(level => {
            level.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(8px) scale(1.02)';
            });
            level.addEventListener('mouseleave', function() {
                this.style.transform = 'translateX(0) scale(1)';
            });
        });

        // Add hover effects to arch layers
        document.querySelectorAll('.arch-layer').forEach(layer => {
            layer.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.03) rotate(-2deg)';
            });
            layer.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1) rotate(0)';
            });
        });
    </script>
</body>
</html>